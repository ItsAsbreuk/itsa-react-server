"use strict";!function(){var t=arguments,e=t[0],n={cacheName:"itsa-react-server-cache-"+t[1],version:t[1],urlsToCache:t[2],offlineImage:t[3],offlinePage:t[4],cdn:t[5],socketPort:t[6]},r=function(t,e,n){var r;if(!n.ok)throw new Error("bad response");return r=n.clone(),caches.open(t).then(function(t){var n,a;new URL(e.url).pathname.startsWith("/_itsa_server_ajax_/props/")&&-1!==(n=e.url.indexOf("?"))&&(a=new Request(e.url.substring(0,n))),t.put(a||e,r)}),n};e.addEventListener("install",function(t){var e=function(t,e){var n=e.map(function(e){var n=new Request(e,{headers:new Headers({"x-itsa-serviceworker-init":"true"})});return fetch(n).then(r.bind(null,t,n))});return Promise.all(n)};t.waitUntil(function(t){return e(t.cacheName,t.urlsToCache).then(function(){return self.skipWaiting()}).catch(function(t){})}(n))}),e.addEventListener("fetch",function(t){var a=function(t){var e=new URL(t.url),n=e.pathname,r={staticExternalModules:n.startsWith("/assets/_itsa_server_external_modules/"),staticJsAndCss:n.startsWith("/assets/local"),staticCommonsJsAndView:/\/assets\/\d+\.\d+\.\d+\/_itsa_server_commons\//.test(n),ajaxStatic:n.startsWith("/_itsa_server_ajax_/css/")||n.startsWith("/_itsa_server_ajax_/comp/"),hasTimeStamp:/[&|?]_ts=(\d){13}/.test(e.search)};return!Object.keys(r).some(function(t){return r[t]})},s=function(t){var e,n;return new URL(t.url).pathname.startsWith("/_itsa_server_ajax_/props/")&&-1!==(e=t.url.indexOf("?"))&&(n=new Request(t.url.substring(0,e))),caches.match(n||t).then(function(e){if(!e)throw Error((n||t).url+" not found in cache");return e})},i=function(t,e){return"image"===t?new Response(e.offlineImage,{headers:{"Content-Type":"image/svg+xml"}}):"content"===t?caches.match(e.offlinePage):void 0},c=function(t,e,n,a){return fetch(t).then(r.bind(null,n,t)).catch(function(){return s(t)}).catch(function(){return i(e,a)})},o=function(t,e,n,c){return s(t).then(function(e){return a(t)&&fetch(t).then(function(e){return r(n,t,e)}),e},function(){return fetch(t).then(function(e){return r(n,t,e)})}).catch(function(){return i(e,c)})};(function(t,n){var r=t.request||{},a=new URL(r.url),s=r.headers.get("x-cookie"),i={matchesPathPattern:"/_itsa_server_serviceworker.js"!==a.pathname,isGETRequest:"GET"===r.method,isFromMyOrigin:a.origin===e.location.origin||a.origin.startsWith(n.cdn),isNotSocketServer:a.port!==n.socketPort,isNotPropsRequestWithCookie:!a.pathname.startsWith("/_itsa_server_ajax_/props/")||!s,isPartOfList:-1!==n.urlsToCache.indexOf(a.pathname)};return!Object.keys(i).some(function(t){return!i[t]})})(t,n)&&function(t,e){var n=t.request,r="static",a=n.headers.get("Accept"),s=new URL(n.url),i=s.pathname.startsWith("/_itsa_server_ajax_/css/")||s.pathname.startsWith("/_itsa_server_ajax_/comp/"),u=s.pathname.startsWith("/_itsa_server_ajax_/props/"),h=e.cacheName;-1!==a.indexOf("text/html")?r="content":-1!==a.indexOf("image")&&(r="image"),"content"===r&&!i||u?t.respondWith(c(n,r,h,e)):t.respondWith(o(n,r,h,e))}(t,n)}),e.addEventListener("activate",function(t){t.waitUntil(function(t,e){return caches.keys().then(function(t){var n=t.filter(function(t){return t!==e.cacheName}).map(function(t){return caches.delete(t)});return Promise.all(n)})}(0,n).then(function(){return e.clients.claim()}))})}(autoparams);